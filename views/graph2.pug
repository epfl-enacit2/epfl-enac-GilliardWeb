extends layout
block content
            .form-group
                #container(style='min-width: 200px; height: 700px; margin: 0 auto')
                        script(type='text/javascript').
                            //console.dir('#{structuredValues[0].values})')
                            // console.dir('#{structuredValues[0].dates}'.split(',').map(Number))
                            //console.log(Date.UTC(1970, 9, 29))
                            //console.dir([Date.UTC(1970, 9, 29), 0])

                            var test = !{JSON.stringify(structuredValues).replace(/<\//g, '<\\/')}
                            console.dir(test)
                            //- var test = [{
                            //-         name: "test",
                            //-         // Define the data points. All series have a dummy year
                            //-         // of 1970/71 in order to be compared on the same x axis. Note
                            //-         // that in JavaScript, months start at 0 for January, 1 for February etc.
                            //-         data: []
                            //-     }
                            //- ]
                            $(function () {
                                Highcharts.chart('container', {
                                    chart: {
                                        type: 'spline'
                                    },
                                    title: {
                                        text: 'Graphic Sensor'
                                    },
                                    subtitle: {
                                        text: ''
                                    },
                                    xAxis: {
                                        type: 'datetime',
                                        dateTimeLabelFormats: { // don't display the dummy year
                                            month: '%e. %b',
                                            year: '%b'
                                        },
                                        title: {
                                            text: 'Date'
                                        }
                                    },
                                    yAxis: {
                                        title: {
                                            text: ''
                                        },
                                        min: 0
                                    },
                                    tooltip: {
                                        headerFormat: '<b>{point.y:.2f}</b><br>',
                                        pointFormat: '{point.x:%e. %b. %H. %M. %S}'
                                    },

                                    plotOptions: {
                                        spline: {
                                            marker: {
                                                enabled: true
                                            }
                                        }
                                    },

                                    series: test
                                });
                            });